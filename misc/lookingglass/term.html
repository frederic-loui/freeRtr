<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>term</title>
<link rel="stylesheet" href="http://cdn.jsdelivr.net/npm/@xterm/xterm/css/xterm.min.css"/>
<script src="http://cdn.jsdelivr.net/npm/@xterm/xterm/lib/xterm.min.js"></script>
<script src="http://cdn.jsdelivr.net/npm/@xterm/addon-fit/lib/addon-fit.min.js"></script>
<script src="http://cdn.jsdelivr.net/npm/@xterm/addon-attach/lib/addon-attach.min.js"></script>
<script src="http://cdn.jsdelivr.net/npm/@xterm/addon-image/lib/addon-image.min.js"></script>
<style>
#terminal {
  background-color: black;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: 0;
  padding: 5px;
}
</style><script>
window.onload = function () {
  var url = document.URL;
  var i = url.lastIndexOf(".");
  var o = url.lastIndexOf("/");
  if (o > i) { i = o; }
  o = url.indexOf("/");
  url = "ws:" + url.substring(o, i);
  ///console.log(url);
  var websock = new WebSocket(url, ['binary']);
  var term = new Terminal();
  var attach = new AttachAddon.AttachAddon(websock);
  var image = new ImageAddon.ImageAddon();
  var fit = new FitAddon.FitAddon();
  term.loadAddon(fit);
  term.loadAddon(attach);
  term.loadAddon(image);
  term.open(document.getElementById('terminal'));
  fit.fit();
  window.addEventListener('resize', function () { fit.fit(); });
};
</script>
</head>
<body><div id="terminal"></div>
</body>
</html>
